// CHAPTER 66 ___________________________________________
// LATENCY (0x42)

> СУТЬ:
СКОРОСТЬ РАЗГОВОРА.
Время между тем, как вы замолчали, и тем, как бот начал
отвечать. В голосе счет идет на миллисекунды.

> ПОЧЕМУ ЭТО ВАЖНО (WHY IT MATTERS):
 1. 500 мс: Магический порог комфортного диалога.
 2. Перебивания: Если бот тормозит, вы начинаете говорить "Алло?".
 3. Стриминг: Мы не ждем генерации всей фразы, мы играем начало.

---

**ПОГРУЖЕНИЕ:**

В текстовом чате мы готовы ждать ответа 3-5 секунд. В телефоне пауза в 1 секунду кажется вечностью. Возникает неловкое молчание.
Борьба за латентность (Latency) — это главная инженерная война.
Чтобы успеть за 500мс, мы:
*   Используем WebSocket (постоянное соединение).
*   Используем VAD (Voice Activity Detection), чтобы мгновенно понять, что юзер закрыл рот.
*   Используем Groq (сверхбыстрые чипы LPU).
*   Начинаем проигрывать звук юзеру, когда сгенерирован только первый байт, а не вся фраза.

```text
  User speaks: [=====]
                     | <--- VAD (End detected)
                     |
  Network:           |-----> (Request)
  Server:                  [Think]
  Network:           <-----| (First Byte!)
                     |
  Bot speaks:        [=====]

  TARGET: < 500ms (Real-time feeling)
```
