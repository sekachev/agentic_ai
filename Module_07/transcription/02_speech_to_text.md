# Speech-to-Text: Распознавание речи

## Основные понятия

**Speech-to-Text (STT)** — технология преобразования речи в текст. Это первый шаг в работе с голосовыми данными.

**Транскрибация** — процесс перевода аудио в текстовый формат.

Противоположный процесс называется **Text-to-Speech (TTS)** — генерация речи из текста.

## Whisper от OpenAI

### Характеристики

**Whisper** — модель распознавания речи от OpenAI. Её ключевые преимущества:

- **Robustness (надежность):** работает в шуме, с акцентами и техническим языком
- **Multilingual (многоязычность):** поддерживает десятки языков, включая переключение на лету
- **Open Source:** можно запускать локально (whisper.cpp) или через API

### Как это работает

1. **Audio Spectrogram:** звук превращается в спектрограмму (визуальное представление)
2. **Encoder:** считывает паттерны звука
3. **Decoder:** предсказывает текст токен за токеном, учитывая контекст

### Производительность

Современные модели работают практически в реальном времени:
- На серверном железе: **1 минута аудио → 1 минута обработки**
- На MacBook M2 (обычный Air): **1 минута аудио → ~1.5 минуты обработки**
- Модель весит ~3 ГБ и работает даже на телефоне

**Стоимость через API:** ~$0.50 за 3 часа распознавания

### Практический пример

Запуск на MacBook с MLX (оптимизация для Apple Silicon):

```python
# Модель загружается локально
# Результат: полный текст со знаками препинания
```

**Важно:** Хорошие модели не только распознают текст, но и:
- Расставляют знаки препинания
- Определяют спикеров (Speaker 1, Speaker 2)
- Распознают роли в диалоге
- Создают временные метки для субтитров

## Применение в бизнесе

### Запись встреч и митингов

**Главный кейс:** транскрибация корпоративных встреч.

Большая часть корпоративных знаний находится в устных обсуждениях:
- Разговоры у кулера
- Митинги и совещания
- Телефонные звонки
- Неформальное общение

Раньше стоимость распознавания была высокой. Сейчас:
- **Стоимость:** менее доллара в день для непрерывной записи
- **Железо:** Mac Mini (~$600) распознает почти в реальном времени
- **Результат:** вся информация автоматически переводится в текст

### Будущее: тотальная запись

В перспективе компании будут:
1. Записывать все рабочие разговоры (с согласия сотрудников)
2. Автоматически транскрибировать их
3. Систематизировать знания через RAG
4. Использовать для обучения корпоративных ИИ-ассистентов

**Важно:** Стоимость распознавания настолько упала, что это дешевле хорошего микрофона.

### Автоматизация бизнес-процессов

Компании уже нанимают людей для формализации процессов. С транскрибацией это автоматизируется:
- Автоматический сбор контекста
- Систематизация процедур
- Создание инструкций из устных описаний
- Обогащение базы знаний

## Провайдеры и инструменты

### OpenRouter & Groq

**Groq** — специализированный сервис для быстрого инференса:
- Скорость: **228x** (за минуту обрабатывает 228 минут аудио)
- Языковые модели: 1000 токенов/сек
- Специализация на производительности

### Google AI Studio

Встроенное распознавание речи:
- Кнопка "Record" в интерфейсе
- Автоматическая передача в мультимодальную модель
- Не требует отдельного STT

### Сервисы для митингов

- **Plaud** — запись и транскрибация встреч
- **Fireflies.ai** — Meeting Bot с саммари
- Встроенная транскрибация в Google Meet (платные тарифы)

## Технические детали

### Голосовая активность (VAD)

**Voice Activity Detection** — определение, когда человек говорит, а когда молчит. Критично для:
- Диалоговых систем
- Экономии ресурсов
- Определения пауз

### Распознавание спикеров

Модель анализирует тембр голоса и присваивает метки:
- Speaker 0, Speaker 1, Speaker 2...
- Затем языковая модель может определить имена по контексту
- На выходе: "Николай: ...", "Татьяна: ..."

### Субтитры (SRT)

Whisper умеет генерировать файлы субтитров с временными метками:
```
00:00:01,000 --> 00:00:05,000
Текст первой реплики

00:00:06,000 --> 00:00:10,000
Текст второй реплики
```

## Будущее: универсальный перевод

Уже сейчас работает:
- **Google Translate** в наушниках (перевод в реальном времени)
- Китайские устройства с синхронным переводом
- YouTube с автоматическими субтитрами на разных языках

**Прогноз на 2026 год:** полное решение проблемы языкового барьера. Любой язык → любой язык в реальном времени через обычные наушники.

---

**Для практики:**
1. Используйте Whisper через Google Colab (бесплатно)
2. Попробуйте API через OpenRouter
3. Установите локально для конфиденциальных данных
