# Text-to-Speech: Продвинутый уровень

## Коммерческие провайдеры TTS

Когда Edge TTS недостаточно, переходим к коммерческим решениям с лучшим качеством и большими возможностями.

## Google Gemini TTS

### Доступ

Через **Google AI Studio** → PlayGround → выбрать модальность "Audio"

Модели:
- **Gemini Flash Preview** — быстрая и дешевая
- **Gemini Pro Preview** — более качественная

### Ценообразование

Измеряется в **аудио-токенах**. Стоимость зависит от:
- Длины текста
- Complexity "размышлений" модели
- Языка (русский дороже английского из-за токенизации)

**Примерная стоимость:** ~$0.03-0.10 за минуту речи на русском языке.

### Возможности

#### Multi-speaker (несколько спикеров)

Можно создавать **диалоги** и **аудиоспектакли**:

```
[Спикер 1]: Привет! Как дела?
[Спикер 2]: Отлично, спасибо!
```

Модель автоматически:
- Распознает спикеров
- Присваивает разные голоса
- Поддерживает интонацию диалога

**Ограничение:** максимум 2 спикера в интерфейсе. Для большего количества нужно разбивать на части.

#### Style instructions (инструкции по стилю)

Отдельное поле для описания **как читать**:

```
Read aloud in a warm and friendly tone
(Читай вслух теплым и дружелюбным голосом)
```

Примеры стилей:
- "with strong French accent" — с сильным французским акцентом
- "enthusiastically" — восторженно
- "mysteriously" — таинственно
- "angrily" — сердито
- "calmly and slowly" — спокойно и медленно

### Пример использования

```python
import google.generativeai as genai

genai.configure(api_key="YOUR_API_KEY")

model = genai.GenerativeModel('gemini-pro-audio')

response = model.generate_content(
    "Вот что я хочу тебе сказать: генерация голоса — это просто!",
    generation_config={
        "voice": "female",
        "style": "enthusiastically"
    }
)
```

### Когда использовать Gemini TTS

✅ Подходит для:
- Быстрого прототипирования
- Диалоговых историй и подкастов
- Образовательного контента
- Проектов с ограниченным бюджетом

## Deepgram

### Регистрация и бесплатные кредиты

При регистрации дают **$200** на счет для тестирования! Этого хватит надолго.

### API Playground

Удобный веб-интерфейс для тестирования:
- **STT Playground** — тестирование распознавания речи (поддержка русского)
- **TTS Playground** — генерация речи (**только английский**)

Поддерживает:
- **Pre-recorded** — загрузка файлов
- **Streaming** — работа в реальном времени

### Особенности

**Real-time transcription** — распознавание в прямом эфире с минимальной задержкой.

**Стоимость:** очень низкая, ориентирована на массовое использование.

### Когда использовать Deepgram

✅ Подходит для:
- **STT** на русском языке (отличный вариант)
- **TTS** на английском
- Телефонии и голосовых ботов
- Real-time приложений

❌ Не подходит для:
- Русскоязычного TTS (нет поддержки)

## 11Labs: Премиум качество

### Позиционирование

**11Labs** — лидер рынка по качеству голосового синтеза. 

> "Любая компания, специализирующаяся на чем-то одном, выиграет у той, что делает всё."

Google охватывает широкий спектр, но для точечных задач 11Labs — лучший выбор.

### Ценообразование

Подписка по уровням:
- **Free:** ~10 минут/день
- **Starter:** ~30 минут/месяц ($5)
- **Creator:** ~100 минут/месяц ($22)
- **Pro:** ~500 минут/месяц ($99)

Самый дорогой TTS на рынке, но и самый качественный.

### Голоса

Огромная библиотека голосов:
- Профессиональные актеры озвучки
- Знаменитые голоса (с лицензиями)
- Пользовательские клоны

**Поддержка русского языка:** есть!

Примеры голосов:
- **Николай** — выразительный мужской голос
- И многие другие русскоязычные варианты

### Продвинутые возможности

#### Эмоциональные теги

```
Теперь я люблю только одного человека - себя [sarcastic].
Потому что точно знаю [whisper] - эта тварь меня не предаст [giggle].
```

Теги:
- `[sarcastic]` — саркастически
- `[whisper]` — шёпотом
- `[giggle]` — с усмешкой
- `[pause:2s]` — пауза 2 секунды

#### Работа с числительными

Модель справляется лучше других, но **склонение числительных** в русском всё равно сложная задача:

```
"Родился в тысяча сто двадцать восьмом году" 
```

Иногда неправильно:
- ударения
- падежные окончания

**Решение:** править текст вручную для критичных моментов.

### Клонирование голоса

**Voice Cloning** — создание модели вашего голоса:

Требования:
- **Публичный API:** 1 минута чистой речи + прочтение заданного текста (защита)
- **Open-source модели:** 2-3 секунды образца (качество ниже)

Качество клона:
- **2-3 сек:** узнаваемо, но есть артефакты
- **1 мин:** отличное качество
- **5+ мин:** практически неотличимо от оригинала

### Защита от злоупотреблений

Чтобы клонировать чужой голос в официальном интерфейсе, нужно:
1. Прочитать случайный текст, который показывает система
2. Это защита от клонирования без согласия

Open-source модели таких ограничений не имеют.

### Примеры использования

#### Профессиональная озвучка

Узнаваемые голоса из YouTube-каналов:
- Канал "No Name" (разборы авиакатастроф)
- Многие образовательные каналы
- Озвучка книг и подкастов

#### Коммерческое использование

- Озвучка видео
- Аудиокниги для продажи
- NPC в играх
- Корпоративные презентации

### Юридический прецедент: Скарлетт Йоханссон

**Фильм "Her" (2013):**
- Хоакин Феникс влюбляется в ИИ-ассистента
- Голос озвучила **Скарлетт Йоханссон**
- Уникальный, узнаваемый тембр

**Скандал с OpenAI (2023):**
- Первая голосовая модель ChatGPT имела голос, похожий на Скарлетт
- Юристы Йоханссон подали иск
- OpenAI убрали этот голос

**Вывод:** голос тоже защищается авторским правом (в США).

### API Integration

```python
from elevenlabs import generate, play

audio = generate(
  text="Древней земли Элдории, где небо мерцало...",
  voice="Nikolay",
  model="eleven_multilingual_v2"
)

play(audio)
```

## Сравнение провайдеров

| Провайдер | Качество | Цена | Русский язык | Когда использовать |
|-----------|----------|------|--------------|-------------------|
| **Edge TTS** | ⭐⭐⭐ | Бесплатно | ✅ Да | Прототипы, книги, YouTube |
| **Gemini TTS** | ⭐⭐⭐⭐ | $0.03-0.10/мин | ✅ Да | Диалоги, подкасты, образование |
| **Deepgram** | ⭐⭐⭐⭐ | Очень низкая | ❌ Нет (только STT) | Real-time, телефония |
| **11Labs** | ⭐⭐⭐⭐⭐ | $5-99/мес | ✅ Да | Коммерческая озвучка, премиум |

## Рекомендации по выбору

### Для экспериментов
→ **Edge TTS** (бесплатно)

### Для диалогов и подкастов
→ **Gemini TTS** (multi-speaker, доступная цена)

### Для телефонии
→ **Deepgram** ($200 на старте) + **Gemini** (для русского)

### Для премиум-проектов
→ **11Labs** (лучшее качество, эмоции, клонирование)

---

**Практическое задание:**

1. Зарегистрируйтесь в **Deepgram** — получите $200
2. Попробуйте **Gemini TTS** через AI Studio
3. Создайте бесплатный аккаунт **11Labs** (10 мин/день)
4. Сгенерируйте один текст разными провайдерами — сравните качество
5. *(Опционально)* Клонируйте свой голос в 11Labs
